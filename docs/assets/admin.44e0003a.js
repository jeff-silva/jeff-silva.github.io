import{_ as O}from"./lodash.fb661e38.js";import{c as H,t as i,Q as m,A as s,z as a,am as z,v as S,P as M,O as L,aB as q,ar as U,J as v,K as $,B as c,y as N,aC as G,N as C,R as y,E as T,L as I,aq as B,I as w,x as d,al as A,a2 as J,a3 as j,F as V,a0 as K,aD as Q,aj as D,a1 as Y,az as W,$ as P,H as n,Y as x,U as R}from"./entry.1ce149c4.js";import{a as X,u as E}from"./useVuetifyThemeSwitcher.c3cbd973.js";import{u as Z}from"./useFireAuth.5239ad97.js";import"./index.esm.db934170.js";import"./index-61e5ac61.bc68faee.js";const F={__name:"nav",props:{items:{type:Array,default:()=>[]},deep:{type:Number,default:0}},setup(h){const f=h,k=t=>O.isPlainObject(t),g=t=>(t={title:"",to:null,icon:null,bind:{},condition:()=>!0,children:[],...t},t.to&&(t.bind.to=t.to),t.icon&&(t.bind.prependIcon=t.icon),t),l=H(()=>f.items.map(g));return(t,b)=>{const _=F;return f.deep==0?(i(),m(z,{key:0,density:"compact"},{default:s(()=>[a(_,{items:l.value,deep:f.deep+1},null,8,["items","deep"])]),_:1})):(i(!0),S(L,{key:1},M(l.value,(e,o)=>(i(),S(L,null,[k(e)?e.children.length>0?(i(),m(G,{key:1},{activator:s(r=>[a(U,v($({...r.props,...e.bind})),{default:s(()=>[c(N(e.title),1)]),_:2},1040)]),default:s(()=>[a(_,{items:e.children,deep:f.deep+1},null,8,["items","deep"])]),_:2},1024)):(i(),S(L,{key:2},[e.condition(e)?(i(),m(U,v(C({key:0},e.bind)),{default:s(()=>[c(N(e.title),1)]),_:2},1040)):y("",!0)],64)):(i(),m(q,{key:0}))],64))),256))}}};const ee={class:"w-100 d-flex align-center justify-center"},te={class:"w-100 h-100 d-flex align-center justify-center bg-white rounded-lg pa-6"},ae={class:"w-100"},se={class:"mt-4 d-flex flex-column",style:{gap:"10px"}},le={class:"d-flex flex-column px-5 py-3",style:{gap:"20px",height:"100vh"}},oe={class:"app-layout__box d-flex align-center",style:{gap:"10px"}},ne={class:"app-layout__box",style:{"overflow-y":"auto","overflow-x":"hidden","flex-grow":"1"}},de={__name:"layout",props:{ready:{type:Boolean,default:!0},view:{type:String,default:"admin"},defaultsProvider:{type:Object,default:()=>({})}},emits:["update:view"],setup(h,{expose:f,emit:k}){const g=h,l=T({name:g.view,set(o){t("update:view",o),l.name=o}}),t=k;X(),E();const b=T({drawer:null,items:[{title:"Home",to:"/admin"},{title:"Pages",to:"/admin/page"},{title:"User",to:"/admin/user"},{title:"Test",to:"/admin/test"}]}),_={VTextField:{variant:"outlined"},...g.defaultsProvider},e=(o={})=>({defaultsProvider:_,view:l,...o});return f({view:l}),(o,r)=>(i(),m(D,{class:"app-layout"},{default:s(()=>[a(I,{defaults:_},{default:s(()=>[g.ready?y("",!0):(i(),m(B,{key:0},{default:s(()=>[w(o.$slots,"loading",v($(e())),()=>[d("div",ee,[a(A,{icon:"svg-spinners:3-dots-fade",size:"30"})])])]),_:3})),g.ready&&l.name!="admin"?(i(),m(B,{key:1,class:"app-layout__bg-pattern"},{default:s(()=>[a(J,null,{default:s(()=>[a(j,{cols:"12",sm:"6",class:"d-none d-sm-flex"}),a(j,{cols:"12",sm:"6",class:"pa-6"},{default:s(()=>[d("div",te,[d("div",ae,[l.name=="login"?w(o.$slots,"login",v(C({key:0},e())),()=>[c(" Login ")]):y("",!0),l.name=="register"?w(o.$slots,"register",v(C({key:1},e())),()=>[c(" Register ")]):y("",!0),l.name=="password"?w(o.$slots,"password",v(C({key:2},e())),()=>[c(" Password ")]):y("",!0),d("div",se,[l.name!="login"?(i(),m(V,{key:0,block:"","prepend-icon":"material-symbols:key-outline",onClick:r[0]||(r[0]=u=>l.set("login"))},{default:s(()=>[c(" Login ")]),_:1})):y("",!0),l.name!="register"?(i(),m(V,{key:1,block:"","prepend-icon":"material-symbols:person-add-outline",onClick:r[1]||(r[1]=u=>l.set("register"))},{default:s(()=>[c(" Register ")]),_:1})):y("",!0),l.name!="password"?(i(),m(V,{key:2,block:"","prepend-icon":"fluent:key-reset-24-regular",onClick:r[2]||(r[2]=u=>l.set("password"))},{default:s(()=>[c(" Password ")]),_:1})):y("",!0)])])])]),_:3})]),_:3})]),_:3})):y("",!0),g.ready&&l.name=="admin"?(i(),m(B,{key:2,class:"rounded rounded-md"},{default:s(()=>[a(K,{modelValue:b.drawer,"onUpdate:modelValue":r[3]||(r[3]=u=>b.drawer=u),width:"300"},{default:s(()=>[w(o.$slots,"navigation",v($(e())))]),_:3},8,["modelValue"]),a(Q,null,{default:s(()=>[d("div",le,[a(I,{defaults:{VBtn:{flat:!0,size:30}}},{default:s(()=>[d("div",oe,[a(V,{icon:"ci:hamburger",size:"30",flat:"",onClick:r[4]||(r[4]=u=>b.drawer=!b.drawer),class:"d-lg-none"}),w(o.$slots,"header",v($(e())))])]),_:3}),d("div",ne,[w(o.$slots,"main",v($(e())))])])]),_:3})]),_:3})):y("",!0)]),_:3})]),_:3}))}},ie={class:"d-flex align-center"},re={class:"me-2"},ue={class:"d-flex"},pe={class:"d-flex"},me={class:"d-flex"},we={__name:"admin",async setup(h){let f,k;const g=W(),l=E(),t=([f,k]=Y(()=>Z()),f=await f,k(),f);t.on("authChange",()=>{g.ctx.$refs.appLayoutRef.view.set(t.user?"admin":"login")});const b=T({drawer:null,items:[{title:"Home",to:"/admin"},{title:"Pages",to:"/admin/page"},{title:"User",to:"/admin/user"},{title:"Test",to:"/admin/test"}]});return(_,e)=>{const o=F,r=de;return i(),m(D,{class:"layout-admin"},{default:s(()=>[a(r,{ref:"appLayoutRef","defaults-provider":_.defaultsProvider,ready:n(t).ready},{main:s(u=>[w(_.$slots,"main",v($(u)))]),navigation:s(u=>[a(z,null,{default:s(()=>[a(U,{title:"Navigation drawer"})]),_:1}),a(o,{items:b.items},null,8,["items"])]),header:s(u=>[a(P),d("div",ie,[d("div",re,N(n(t).user.name),1),a(A,{icon:"material-symbols:account-circle"})]),a(V,{onClick:e[0]||(e[0]=p=>n(l).switch()),icon:"material-symbols:dark-mode"})]),login:s(u=>[d("form",{onSubmit:e[3]||(e[3]=R(p=>n(t).login(),["prevent"]))},[a(x,{label:"E-mail",modelValue:n(t).data.email,"onUpdate:modelValue":e[1]||(e[1]=p=>n(t).data.email=p)},null,8,["modelValue"]),a(x,{label:"Senha",modelValue:n(t).data.password,"onUpdate:modelValue":e[2]||(e[2]=p=>n(t).data.password=p)},null,8,["modelValue"]),d("div",ue,[a(P),a(V,{type:"submit"},{default:s(()=>[c("Login")]),_:1})])],32)]),register:s(u=>[d("form",{onSubmit:e[6]||(e[6]=R(p=>n(t).save(),["prevent"]))},[a(x,{label:"E-mail",modelValue:n(t).data.email,"onUpdate:modelValue":e[4]||(e[4]=p=>n(t).data.email=p)},null,8,["modelValue"]),a(x,{label:"Senha",modelValue:n(t).data.password,"onUpdate:modelValue":e[5]||(e[5]=p=>n(t).data.password=p)},null,8,["modelValue"]),a(x,{label:"Repita Senha"}),d("div",pe,[a(P),a(V,{type:"submit"},{default:s(()=>[c("Register")]),_:1})])],32)]),password:s(u=>[d("form",{onSubmit:e[8]||(e[8]=R(()=>{},["prevent"]))},[a(x,{label:"E-mail",modelValue:n(t).data.email,"onUpdate:modelValue":e[7]||(e[7]=p=>n(t).data.email=p)},null,8,["modelValue"]),d("div",me,[a(P),a(V,{type:"submit"},{default:s(()=>[c("Password")]),_:1})])],32)]),_:3},8,["defaults-provider","ready"])]),_:3})}}};export{we as default};

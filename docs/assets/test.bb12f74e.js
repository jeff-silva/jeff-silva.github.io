import{_ as p}from"./nuxt-layout.bdcb008c.js";import{m as y,o as g,v as h,z as _,A as D,t as S,x as w,y as b,H as v}from"./entry.1ce149c4.js";import{i as x}from"./index.esm.db934170.js";import{g as F,o as A,c as N}from"./index-61e5ac61.bc68faee.js";import{g as R,c as l,s as U,d as u,a as B,f as C,q as L,l as E,e as P}from"./index.esm2017.ebd02658.js";const k=y(),m=t=>t?{uid:t.uid,name:(t.providerData[0]?t.providerData[0].displayName:!1)||t.email,email:t.email,phoneNumber:t.phoneNumber,photoURL:t.photoURL}:!1,z=()=>{x(k.public.firebase);const t=F(),r=R();let e={};return e.ready=!1,e.user=!1,e.userCreate=async(s={})=>{s={name:"",email:"",password:"",...s};try{const a=await N(t,s.email,s.password);e.firestoreSave("user",m(a.user))}catch(a){console.error(a)}},e.userUpdate=async()=>{},e.userLogin=async()=>{},e.userLogout=async()=>{},e.firestoreSave=async(s,a={})=>{a={uid:null,name:"",...a};const n=l(r,s);return a.uid?await U(u(r,s,a.uid),a):await B(n,a)},e.firestoreFind=async(s,a)=>{const n=u(r,s,a),o=await C(n);return o.exists()?o.data():!1},e.firestoreSearch=async(s,a={},n=null)=>{if(a={perPage:5,...a},n===null){const c=l(r,s);n=L(c,E(a.perPage))}const o=await P(n),d=o.docs[o.docs.length-1],f=o.docs[o.docs.length-1];let i=[];return o.forEach(c=>{i.push(c.data())}),{params:a,data:i,prev:f,next:d,docs:o}},e.firestoreDelete=async(s,a)=>{},e.realtimeSave=async()=>{},e.realtimeFind=async()=>{},e.realtimeSearch=async()=>{},e.realtimeDelete=async()=>{},e.storageSave=async()=>{},e.storageFind=async()=>{},e.storageSearch=async()=>{},e.storageDelete=async()=>{},A(t,s=>{e.user=m(s),e.ready=!0}),e},q={__name:"test",setup(t){const r=z();return g(async()=>{const e=await r.firestoreSearch("user"),s=await r.firestoreSearch("user",e.params,e.next);console.log(e.data,s.data)}),(e,s)=>{const a=p;return S(),h("div",null,[_(a,{name:"admin"},{main:D(()=>[w("pre",null,b(v(r)),1)]),_:1})])}}};export{q as default};

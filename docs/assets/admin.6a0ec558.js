import{_ as Y}from"./lodash.d4b6eea9.js";import{c as Q,t as i,Q as c,A as a,z as t,aa as E,v as P,P as G,O as B,aL as J,ae as I,J as f,K as V,B as g,y as D,aM as K,N as L,R as m,E as R,a4 as q,L as N,a8 as U,I as y,x as r,aN as b,a7 as F,a2 as W,a3 as j,F as _,a0 as X,H as d,aO as Z,an as A,aP as ee,aQ as te,aR as ae,a5 as O,a1 as se,aw as le,$ as T,Y as $,U as z}from"./entry.63dc4cf2.js";import{a as oe}from"./index.10f77ebd.js";import{u as H}from"./useVuetifyThemeSwitcher.abd25afe.js";import{u as ne}from"./useFireAuth.b470610d.js";import"./_commonjsHelpers.725317a4.js";import"./index.esm.77bdd919.js";import"./index-61e5ac61.6063238b.js";const M={__name:"nav",props:{items:{type:Array,default:()=>[]},deep:{type:Number,default:0}},setup(S){const v=S,h=s=>Y.isPlainObject(s),u=s=>(s={title:"",to:null,icon:null,bind:{},condition:()=>!0,children:[],...s},s.to&&(s.bind.to=s.to),s.icon&&(s.bind.prependIcon=s.icon),s),n=Q(()=>v.items.map(u));return(s,k)=>{const w=M;return v.deep==0?(i(),c(E,{key:0,density:"compact"},{default:a(()=>[t(w,{items:n.value,deep:v.deep+1},null,8,["items","deep"])]),_:1})):(i(!0),P(B,{key:1},G(n.value,(e,C)=>(i(),P(B,null,[h(e)?e.children.length>0?(i(),c(K,{key:1},{activator:a(p=>[t(I,f(V({...p.props,...e.bind})),{default:a(()=>[g(D(e.title),1)]),_:2},1040)]),default:a(()=>[t(w,{items:e.children,deep:v.deep+1},null,8,["items","deep"])]),_:2},1024)):(i(),P(B,{key:2},[e.condition(e)?(i(),c(I,f(L({key:0},e.bind)),{default:a(()=>[g(D(e.title),1)]),_:2},1040)):m("",!0)],64)):(i(),c(J,{key:0}))],64))),256))}}};const ie={class:"w-100 h-100 d-flex align-center justify-center bg-white rounded-lg pa-6"},de={class:"w-100"},re={class:"mt-4 d-flex flex-column",style:{gap:"10px"}},ue={class:"d-flex flex-column",style:{height:"100vh"}},pe={__name:"layout",props:{ready:{type:Boolean,default:!0},view:{type:String,default:"admin"},defaultsProvider:{type:Object,default:()=>({})},loadingClass:{type:String,default:"w-100 d-flex align-center justify-center"},navigationClass:{type:String,default:""},headerClass:{type:String,default:"bg-white"},mainClass:{type:String,default:""},footerClass:{type:String,default:""}},emits:["update:view"],setup(S,{expose:v,emit:h}){const u=S,n=R({name:u.view,set(l){s("update:view",l),n.name=l}}),s=h;oe();const k=q();H();const w=R({drawer:null,items:[{title:"Home",to:"/admin"},{title:"Pages",to:"/admin/page"},{title:"User",to:"/admin/user"},{title:"Test",to:"/admin/test"}]}),e=R({headerShow:!0,footerShow:!0,vTouch:{up:()=>{e.headerShow=!1,e.footerShow=!0},down:()=>{e.headerShow=!0,e.footerShow=!1}}}),C={VTextField:{variant:"outlined"},...u.defaultsProvider},p=(l={})=>({defaultsProvider:C,view:n,...l});return v({view:n}),(l,o)=>(i(),c(O,{class:"app-layout"},{default:a(()=>[t(N,{defaults:C},{default:a(()=>[u.ready?m("",!0):(i(),c(U,{key:0},{default:a(()=>[y(l.$slots,"loading",f(V(p())),()=>[r("div",{class:b(u.loadingClass)},[t(F,{icon:"svg-spinners:3-dots-fade",size:"30"})],2)])]),_:3})),u.ready&&n.name!="admin"?(i(),c(U,{key:1,class:"app-layout__bg-pattern"},{default:a(()=>[t(W,null,{default:a(()=>[t(j,{cols:"12",sm:"6",class:"d-none d-sm-flex"}),t(j,{cols:"12",sm:"6",class:"pa-6"},{default:a(()=>[r("div",ie,[r("div",de,[n.name=="login"?y(l.$slots,"login",f(L({key:0},p())),()=>[g(" Login ")]):m("",!0),n.name=="register"?y(l.$slots,"register",f(L({key:1},p())),()=>[g(" Register ")]):m("",!0),n.name=="password"?y(l.$slots,"password",f(L({key:2},p())),()=>[g(" Password ")]):m("",!0),r("div",re,[n.name!="login"?(i(),c(_,{key:0,block:"","prepend-icon":"material-symbols:key-outline",onClick:o[0]||(o[0]=x=>n.set("login"))},{default:a(()=>[g(" Login ")]),_:1})):m("",!0),n.name!="register"?(i(),c(_,{key:1,block:"","prepend-icon":"material-symbols:person-add-outline",onClick:o[1]||(o[1]=x=>n.set("register"))},{default:a(()=>[g(" Register ")]),_:1})):m("",!0),n.name!="password"?(i(),c(_,{key:2,block:"","prepend-icon":"fluent:key-reset-24-regular",onClick:o[2]||(o[2]=x=>n.set("password"))},{default:a(()=>[g(" Password ")]),_:1})):m("",!0)])])])]),_:3})]),_:3})]),_:3})):m("",!0),u.ready&&n.name=="admin"?(i(),c(U,{key:2,class:"rounded rounded-md"},{default:a(()=>[t(X,{modelValue:w.drawer,"onUpdate:modelValue":o[3]||(o[3]=x=>w.drawer=x),width:"300",elevation:"0",class:b(S.navigationClass),border:"0"},{default:a(()=>[y(l.$slots,"navigation",f(V(p())))]),_:3},8,["modelValue","class"]),d(k).mobile.value?Z((i(),c(A,{key:0},{default:a(()=>[t(ee,null,{default:a(()=>[!d(k).mobile||e.headerShow?(i(),P("div",{key:0,class:b(`d-flex align-center pa-3 ${u.headerClass}`),style:{position:"fixed",top:"0",width:"100%",gap:"15px"}},[t(N,{defaults:{VBtn:{flat:!0,size:30}}},{default:a(()=>[t(_,{icon:"ci:hamburger",size:"30",flat:"",onClick:o[4]||(o[4]=x=>w.drawer=!w.drawer),class:"d-lg-none"}),y(l.$slots,"header",f(V(p())))]),_:3})],2)):m("",!0)]),_:3}),t(te,null,{default:a(()=>[e.footerShow?(i(),P("div",{key:0,class:b(`${u.footerClass}`),style:{position:"fixed",bottom:"0",width:"100%"}},[y(l.$slots,"footer",f(V(p())))],2)):m("",!0)]),_:3}),r("div",{class:b(`pa-3 ${u.mainClass}`)},[y(l.$slots,"main",f(V(p())))],2)]),_:3})),[[ae,e.vTouch]]):m("",!0),d(k).mobile.value?m("",!0):(i(),c(A,{key:1},{default:a(()=>[r("div",ue,[r("div",{class:b(`d-flex align-center pa-3 ${u.headerClass}`),style:{gap:"15px"}},[t(N,{defaults:{VBtn:{flat:!0,size:30}}},{default:a(()=>[y(l.$slots,"header",f(V(p())))]),_:3})],2),r("div",{class:b(`flex-grow-1 pa-3 ${u.mainClass}`),style:{overflow:"auto"}},[y(l.$slots,"main",f(V(p())))],2),r("div",{class:b(`${u.footerClass}`)},[y(l.$slots,"footer",f(V(p())))],2)])]),_:3}))]),_:3})):m("",!0)]),_:3})]),_:3}))}},me={class:"d-flex align-center"},fe={class:"me-2"},ce={class:"d-flex"},ye={class:"d-flex"},ve={class:"d-flex"},Se={__name:"admin",async setup(S){let v,h;const u=le(),n=H(),s=([v,h]=se(()=>ne()),v=await v,h(),v);s.on("authChange",()=>{u.ctx.$refs.appLayoutRef.view.set(s.user?"admin":"login")});const k=R({drawer:null,items:[{title:"Home",to:"/admin"},{title:"Pages",to:"/admin/page"},{title:"User",to:"/admin/user"},{title:"Test",to:"/admin/test"}]});return(w,e)=>{const C=M,p=pe;return i(),c(O,{class:"layout-admin"},{default:a(()=>[t(p,{ref:"appLayoutRef","defaults-provider":w.defaultsProvider,ready:d(s).ready},{main:a(l=>[y(w.$slots,"main",f(V(l)))]),navigation:a(l=>[t(E,null,{default:a(()=>[t(I,{title:"Navigation drawer"})]),_:1}),t(C,{items:k.items},null,8,["items"])]),header:a(l=>[t(T),r("div",me,[r("div",fe,D(d(s).user.name),1),t(F,{icon:"material-symbols:account-circle"})]),t(_,{onClick:e[0]||(e[0]=o=>d(n).switch()),icon:"material-symbols:dark-mode"})]),login:a(l=>[r("form",{onSubmit:e[3]||(e[3]=z(o=>d(s).login(),["prevent"]))},[t($,{label:"E-mail",modelValue:d(s).data.email,"onUpdate:modelValue":e[1]||(e[1]=o=>d(s).data.email=o)},null,8,["modelValue"]),t($,{label:"Senha",modelValue:d(s).data.password,"onUpdate:modelValue":e[2]||(e[2]=o=>d(s).data.password=o)},null,8,["modelValue"]),r("div",ce,[t(T),t(_,{type:"submit"},{default:a(()=>[g("Login")]),_:1})])],32)]),register:a(l=>[r("form",{onSubmit:e[6]||(e[6]=z(o=>d(s).save(),["prevent"]))},[t($,{label:"E-mail",modelValue:d(s).data.email,"onUpdate:modelValue":e[4]||(e[4]=o=>d(s).data.email=o)},null,8,["modelValue"]),t($,{label:"Senha",modelValue:d(s).data.password,"onUpdate:modelValue":e[5]||(e[5]=o=>d(s).data.password=o)},null,8,["modelValue"]),t($,{label:"Repita Senha"}),r("div",ye,[t(T),t(_,{type:"submit"},{default:a(()=>[g("Register")]),_:1})])],32)]),password:a(l=>[r("form",{onSubmit:e[8]||(e[8]=z(()=>{},["prevent"]))},[t($,{label:"E-mail",modelValue:d(s).data.email,"onUpdate:modelValue":e[7]||(e[7]=o=>d(s).data.email=o)},null,8,["modelValue"]),r("div",ve,[t(T),t(_,{type:"submit"},{default:a(()=>[g("Password")]),_:1})])],32)]),_:3},8,["defaults-provider","ready"])]),_:3})}}};export{Se as default};
